<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>My Attendance â€” Limkokwing University of Creative Technology Students Attendance App</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
	<link href="/static/css/theme.css" rel="stylesheet">
	<style>
		@media (max-width: 576px) {
			.table thead { display: none; }
			.table tbody tr { display: block; margin-bottom: .75rem; background: #fff; border-radius: .5rem; box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,.06); }
			.table tbody td { display: flex; justify-content: space-between; padding: .5rem .75rem; border-top: none; }
			.table tbody td::before { content: attr(data-label); font-weight: 600; color: #6c757d; }
		}
	</style>
</head>
<body class="bg-light">
	<nav class="navbar navbar-expand-lg navbar-dark bg-black">
		<div class="container">
			<span class="navbar-brand d-flex align-items-center">
				<img src="{{ url_for('static', filename='img/luct.jpg') }}" alt="LUCT" class="brand-logo me-2"/>
				<span><span class="text-gold">Limkokwing</span> Students Attendance</span>
			</span>
			<div class="ms-auto">
				<a href="{{ url_for('student_change_password') }}" class="btn btn-outline-light btn-sm me-2">Change Password</a>
				<a href="{{ url_for('logout') }}" class="btn btn-outline-light btn-sm">Logout</a>
			</div>
		</div>
	</nav>

	<div class="container py-4">
		<h1 class="h4 mb-3">Hello, {{ user.full_name }}</h1>
		{% if current_session_id %}
			<p class="text-muted">Showing attendance for session #{{ current_session_id }}. <a href="{{ url_for('student_portal') }}" class="ms-1">Show all</a></p>
		{% else %}
			<p class="text-muted">Recent attendance history (last 50 records)</p>
		{% endif %}
		<div class="card shadow-sm">
			<div class="table-responsive">
				<table class="table table-sm mb-0">
					<thead>
						<tr>
							<th>Module</th>
							<th>Week</th>
							<th>Session Date</th>
							<th>Check-in Time</th>
							<th>Status</th>
						</tr>
					</thead>
					<tbody>
						{% if history %}
							{% for row in history %}
							<tr>
								<td data-label="Module">{{ row.module_code }} - {{ row.module_name }}</td>
								<td data-label="Week">{{ row.week_number }}</td>
								<td data-label="Session Date">{{ row.session_date }}</td>
								<td data-label="Check-in Time">{{ row.checkin_time }}</td>
								<td data-label="Status">{{ row.status }}</td>
							</tr>
							{% endfor %}
						{% else %}
							<tr><td colspan="5" class="text-center text-muted">No attendance records yet.</td></tr>
						{% endif %}
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


